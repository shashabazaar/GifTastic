<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Most Expensive Cars Search</title>
  <style type="text/css">
    button,
    div,
    form,
    input {
      margin: 10px;
    }
  </style>
</head>

<body>

  <!-- Rendered Buttons will get Dumped Here  -->

  <div data-car="buttons-view"></div>
  <button data-car="hennessey-venom-gt">Hennessey Venom GT</button>
  <button data-car="zenzo-st--1">Zenzo ST-1</button>
  <button data-car="laferrari">Laferrari</button>
  <button data-car="pagani-zonda-cinque-roadster">Pagani Zonda Cinque Roadster</button>
  <button data-car="aston-martin-one--77">Aston Martin One-77</button>
  <button data-car="koenigsegg-one-1">Koenigsegg One:1</button>
  <button data-car="ferrari-sergio">Ferrari Sergio</button>
  <button data-car="bugatti-veyron-mansory-vivere">Bugatti Veyron: Mansory Vivere</button>
  <button data-car="lykan-hypersport">Lykan Hypersport</button>
  <button data-car="lamborghini-veneno-roadster">Lamborghini Veneno Roadster</button>
  <!-- FIX -->
  <form id="giphy-form">
    <label for="giphy-input">Add a Car!</label>
    <input type="text" id="giphy-input"><br>

    <!-- Button triggers new gif to be added -->
    <input id="add-giphy" type="submit" value="Most Exotic Car Search">
  </form>


  <div id="gifs-appear-here">
  </div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script type="text/javascript">
    $("button").on("click", function () {
      var topics = $(this).attr("data-car");

      var queryURL = "https://api.giphy.com/v1/gifs/search?q=" +
        topics + "&api_key=dc6zaTOxFJmzC&limit=10";
      // Initial array of gifs

      var topicsArray = ["Hennessey Venom GT", "Zenvo ST-1", "Laferrari", "Pagani Zonda Cinque Roadster",
        "Aston Martin One-77", "Koenigsegg One:1", "Ferrari Sergio", "Bugatti Veyron: Mansory Vivere",
        "Lykan Hypersport", "Lamborghini Veneno Roadster"
      ];
      $.ajax({
          url: queryURL,
          method: "GET"
        })

        .then(function (response) {
          console.log(queryURL);
          console.log(response);

          var results = response.data;

          for (var i = 0; i < results.length; i++) {

            var carDiv = $("<div>");

            var rating = results[i].rating;
            var p = $("<p>").text("Rating: " + rating);

            var carImage = $("<img>");

            carImage.attr("src", results[i].images.fixed_height.url);


            carDiv.append(p);
            carDiv.append(carImage);

            $("#gifs-appear-here").prepend(carDiv);
          }
        });
    });
  </script>
</body>

</html>